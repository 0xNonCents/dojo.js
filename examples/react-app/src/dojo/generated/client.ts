/* Autogenerated file. Do not edit manually. */

import { DojoProvider } from "@dojoengine/core";
import * as torii from "@dojoengine/torii-client";

interface DojoClientConfig {
    manifest: any;
    rpcUrl: string;
    toriiUrl: string;
}

export type CreateDojoClient = Awaited<ReturnType<typeof dojoClient>>;

export async function dojoClient<R>(
    { manifest, rpcUrl, toriiUrl }: DojoClientConfig,
    setupWorld: (provider: DojoProvider) => Promise<R>
): Promise<{ toriiClient: torii.Client; client: R }> {
    const toriiClient = await torii.createClient([], {
        rpcUrl,
        toriiUrl,
        worldAddress: manifest.world.address,
    });

    return {
        toriiClient,
        client: await setupWorld(new DojoProvider(manifest, rpcUrl)),
    };
}
